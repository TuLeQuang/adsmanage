
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Demo 3D by Admicro</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />	
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- meta for video panorama --> 
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	<meta http-equiv="x-ua-compatible" content="IE=edge" />
	<!-- END meta for video panorama --> 
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
	<script type="text/javascript" src="js/thavis360.free.min.js" charset="UTF-8"></script>
	<!-- load thư viện cho 3D -->
	<script type='text/javascript' src="http://www.mrdoob.com/lab/javascript/threejs/css3d/three-css3d.min.js"></script>
	<script src="viewer/embedpano.js"></script>
	<link href="js/thavis360.css" rel="stylesheet" type="text/css" />

	<script type="text/javascript">
		function wdHeight(){var a;"number"==typeof window.innerWidth?a=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(a=document.body.clientHeight);return a};
		function wdWidth(){var a;"number"==typeof window.innerWidth?a=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?a=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&
		(a=document.body.clientWidth);return a}	
		function scroll() {
			window.scrollTo(0,60);
			console.log("------> Scrolled");
		}
		window.onload = scroll();
	</script>
</head>

<body style="width:100%;height:100%;margin:0;padding:0;">
<div id = "div_container" style="width:100%; height:100%; zIndex: 90;position:relative;">
    <button id = "BackBtn" type="button" src = "images/panoBtn.jpg" onmousedown= "onClickBack()" style="position: absolute ; left: 5px; top: 10%; zIndex: 9999; display: none"></button>
	<img src="images/topbanner.jpg" style="width:100%;display:block;padding-top:0">

	<div style="display:block; width:100%;background-size: 100%;background-position: center;margin-top: -20%;;background-image:url('images/bgcar.jpg'); " >
		<div id="js360-widget" style="margin-left:20%;width:250%;height:80%;"></div>
	</div>

	<img id="divgia" src="images/gia.jpg" style="width:100%;display:block;margin-top: -30px">
	<div id = "buttonDiv" style="display:block;width:100%;height:40px;background-color:#fffff;">
		<button id = "VideoPanoramaBtn" type="button" onmousedown = "VideoPanorama();"></button> 
		<button id = "InCarBtn" type="button" src = "images/incarBtn.jpg"  onmousedown = "openframe2()"></button>
	</div>
	<img id="divbotton" src="images/bottom.jpg" style="display:block;width:100%;margin-top:50px;">	
	
	<div id="pano" style=" width:100%; 
		height:100%; 
		position: absolute;
		z-index: 1; 
		display: none;
		margin-top: -390px"
		>
	</div>

	<div id = "ifm" style = "width: 100%; height: 100%; zIndex: 9999; display: none">
		<iframe width="100%" height="100%" scrolling="no" style="width:100%;height:50%;margin-top:0 !important;padding:0;" src = "http://demo.admicro.vn/linhtranthai/krpanoProject/carShow512016/vtour_Kia/tour.html">
		</iframe>
	</div>


</div>
	
	<!-- style cho frame2 -->
	<style type='text/css'>

    body {
	overflow: hidden !important;
	position: relative;
	background: white;
	color: white;
	padding: 0;
	margin: 10px;
	width: 100%;
	height: 100%;
	}

	#panaromic_wr {
		position: absolute;
		z-index: 8888;
		padding: 0;
		margin: 10px;
		width: 100%;
		height: 100%;
	}

	#InCarBtn {
		color: #900;
		margin-left:10px;
		display:inline-block;
		z-index: 9999;
		width: 40%;
		height: 41px;
		cursor: pointer;
		border: none;
		background: url(images/incarBtn.png) no-repeat;
	}

	#VideoPanoramaBtn {
		color: #900;
		margin-left:10%;
		display:inline-block;
		z-index: 9999;
		width: 40%;
		height: 41px;
		cursor: pointer;
		border: none;
		background: url(images/panoBtn.png) no-repeat;
	}

	#BackBtn {
		color: #900;
		margin-left:10%;
		margin-top: -6%;
		z-index: 9999;
		width: 18%;
		height: 21px;
		cursor: pointer;
		border: none;
		background: url(images/backButton.png) no-repeat;
	}

  	</style>
  	<!-- style cho frame2 -->
  	<script type="text/javascript">
  		window.onload = (function(){
  			var js360_widget = document.getElementById("js360-widget");
  		})();
  	</script>
  	<!-- script main frame2 -->
	<script type='text/javascript'>
	document.getElementById("BackBtn").style.display = "none";

	var animate;
	var scene,renderer;
	var camera;
		jQuery( document ).ready(function() {
			jQuery("#js360-widget").thavis360({
				serverLocation:'',
				objDir:'spin',
				imgTotal:36,
				imgStart:1,
				features:false,
				stepping:10,
				spinInterval:70,
				lang:'en',
				targetSpinInterval:25,
				spinDirection:'forward',
				navPosition:'bottom',
				descPosition:'left',
				hsWidth:30,
				hsHeight:24,
				hsFadeInDuration:800,
			});
		});
		
		var frame2Flag = false;
		function openframe2() {
			console.log("clicked openframe2");
			document.getElementById("js360-widget").style.display = "none";
			document.getElementById("VideoPanoramaBtn").style.display = "none";
			document.getElementById("InCarBtn").style.display = "none";
			document.getElementById("panaromic_wr").style.display = 'block';
			document.getElementById("divgia").style.display = "none";
			document.getElementById("divbotton").style.display = "none";
			document.getElementById("ifm").style.marginTop = "-34%";
			document.getElementById("js360-widget").style.zIndex = '10000';
			document.getElementById("BackBtn").style.display = "block";
		  	document.getElementById("BackBtn").style.top = "10%";

			console.log("frame2Flag = "+ frame2Flag);
			if (!frame2Flag) {
				var iframe = document.getElementById("ifm");
				iframe.style.width = "640px";
				iframe.style.height = "1280px";
				iframe.style.display = "block";
				iframe.style.top = "-40px";
				iframe.style.left = "-80px";
				console.log(" wdHeight = " +  wdHeight() + " --- " + " wdWidth() = " + wdWidth());
				
				frame2Flag = true;
				document.getElementById("BackBtn").style.display = 'block';
				document.getElementById("BackBtn").style.zIndex = '9999';
			}
		}
				function wdHeight(){var a;"number"==typeof window.innerWidth?a=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&document.body.clientHeight&&(a=document.body.clientHeight);return a};
		function wdWidth(){var a;"number"==typeof window.innerWidth?a=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?a=document.documentElement.clientWidth:document.body&&document.body.clientWidth&&
		(a=document.body.clientWidth);return a}	

		var videoPanoFlag = false;
		function VideoPanorama() {
			console.log("clicked VideoPanorama");
	  		if (!videoPanoFlag) {
		  		embedpano({swf:"viewer/krpano.swf", xml:"video/video.xml", target:"pano", html5:(document.domain ? "prefer" : "auto"), passQueryParameters:true});
		  		videoPanoFlag = true;
		  	}
		  	document.getElementById("pano").style.display = 'block';
		  	document.getElementById("pano").style.marginTop = "-175%";
		  	document.getElementById("InCarBtn").style.display = 'none';
		  	document.getElementById("VideoPanoramaBtn").style.display = 'none';
		  	document.getElementById("BackBtn").style.display = "block";
		  	document.getElementById("BackBtn").style.top = "20%";
	 	}
	 	function onClickBack() {
	 		console.log("onClickBack");
	 		if (frame2Flag) {
	 			document.getElementById("ifm").style.display = "none";
	 			frame2Flag = false;
	 		}
	 		document.getElementById("pano").style.display = 'none';
	 		document.getElementById("js360-widget").style.display = 'block';
	 		document.getElementById("div_container").style.display = 'block';
	 		document.getElementById("BackBtn").style.display = 'none';
	 		document.getElementById("InCarBtn").style.display = 'inline-block';
	 		document.getElementById("VideoPanoramaBtn").style.display = 'inline-block';
	 		document.getElementById("divgia").style.display = "block";
	 		document.getElementById("divbotton").style.display = "block";
	 		document.getElementById("VideoPanoramaBtn").style.visibility = 'visible';
	 		document.getElementById("panaromic_wr").style.display = 'none';
	 	}

	</script>

	<div id = "panaromic_wr" style="display:none"></div>
	<!-- Create button to panorama video -->
</body>